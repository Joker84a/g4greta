"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3312],{2188:(f,l,r)=>{r.r(l),r.d(l,{AddNewsPageModule:()=>S});var c=r(6895),i=r(433),m=r(9928),a=r(1646),d=r(7489),t=r(4650),h=r(73),v=r(5970),u=r(8635),A=r(2043),Z=r(1923),N=r(8471);function T(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Campo richiesto"),t.qZA())}function w(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Carratteri speciali non ammessi"),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,T,2,0,"p",15),t.YNc(2,w,2,0,"p",15),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.title.errors.required),t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.title.errors.pattern)}}function x(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Campo richiesto"),t.qZA())}function b(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Carratteri speciali non ammessi"),t.qZA())}function I(e,n){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,x,2,0,"p",15),t.YNc(2,b,2,0,"p",15),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.subtitle.errors.required),t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.subtitle.errors.pattern)}}function P(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Campo richiesto"),t.qZA())}function _(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Carratteri speciali non ammessi"),t.qZA())}function y(e,n){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,P,2,0,"p",15),t.YNc(2,_,2,0,"p",15),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.img.errors.required),t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.img.errors.pattern)}}function q(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Campo richiesto"),t.qZA())}function C(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"Carratteri speciali non ammessi"),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"div",14),t.YNc(1,q,2,0,"p",15),t.YNc(2,C,2,0,"p",15),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.text.errors.required),t.xp6(1),t.Q6J("ngIf",o.editorFrom.controls.text.errors.pattern)}}const J=function(){return{height:"350px"}},Y=[{path:"",component:(()=>{class e{constructor(o,s,g,k){if(this.as=o,this.activatedRoute=s,this.router=g,this.al=k,this.isNew=!1,this.quillConfiguration={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]}],["link"],["clean"],["image"],[{align:[]}]]},this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.type=this.activatedRoute.snapshot.paramMap.get("type"),this.editorFrom=new i.cw({text:new i.NI("",[i.kI.required]),subtitle:new i.NI("",[i.kI.pattern("^[A-Za-z0-9\xe8\xe9,. ]+$"),i.kI.required]),title:new i.NI("",[i.kI.pattern("^[A-Za-z0-9\xe8\xe9,. ]+$"),i.kI.required]),img:new i.NI("assets/imgs/bg-home.jpg")}),d.isEmpty(this.id)||d.isNull(this.id)||d.isEqual("new",this.id))this.isNew=!0;else try{this.as.getArticle(this.id,this.as.checkType(this.type)).subscribe(p=>{this.editorFrom.patchValue(p)})}catch(p){console.log(p)}}ngOnInit(){}onSubmit(){this.editorFrom.valid?(this.isNew?this.as.addArticle(this.editorFrom.value,this.as.checkType(this.type)):this.as.updateArticle(this.id,this.editorFrom.value,this.as.checkType(this.type)).then(()=>this.router.navigate(["/news"])),this.al.closeAlert()):this.al.errorAlert("I campi inseriti non rispettano le regole")}onScroll(o){o.detail.currentY>0?$(".navbar").addClass("navbar-inverse"):$(".navbar").removeClass("navbar-inverse")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.n),t.Y36(a.gz),t.Y36(a.F0),t.Y36(v.c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-news"]],decls:32,vars:8,consts:[[1,"wrapper"],[1,"main"],[1,"content"],[1,"h3","mb-3"],[1,"mt-5",3,"formGroup","ngSubmit"],[1,"h3","mb-3","mt-3"],["placeholder","Inserisci il titolo dell'articolo ...","formControlName","title","required","",1,"form-control"],["class","form-control-feedback text-danger",4,"ngIf"],["placeholder","Inserisci il link all'immagine di copertina","formControlName","subtitle","required","",1,"form-control"],[1,"d-none"],["placeholder","Inserisci il link all'immagine di copertina","formControlName","img","required","",1,"form-control"],[1,"mt-5"],["formControlName","text",3,"styles","modules"],[1,"btn","btn-add","float-end","m-3"],[1,"form-control-feedback","text-danger"],[4,"ngIf"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-content")(1,"div",0),t._UZ(2,"app-sidenav"),t.TgZ(3,"div",1),t._UZ(4,"app-nav-backoffice"),t.TgZ(5,"main",2)(6,"h1",3)(7,"strong"),t._uU(8,"Aggiungi"),t.qZA(),t._uU(9," Articolo"),t.qZA(),t.TgZ(10,"form",4),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(11,"div")(12,"h3",5),t._uU(13,"Titolo"),t.qZA(),t._UZ(14,"input",6),t.YNc(15,F,3,2,"div",7),t.qZA(),t.TgZ(16,"div")(17,"h3",5),t._uU(18,"Sottotitolo"),t.qZA(),t._UZ(19,"input",8),t.YNc(20,I,3,2,"div",7),t.qZA(),t.TgZ(21,"div",9)(22,"h3",5),t._uU(23,"Immagine di copertina"),t.qZA(),t._UZ(24,"input",10),t.YNc(25,y,3,2,"div",7),t.qZA(),t.TgZ(26,"div",11),t._UZ(27,"quill-editor",12),t.YNc(28,U,3,2,"div",7),t.qZA(),t.TgZ(29,"button",13),t._uU(30,"Pubblica"),t.qZA()()(),t._UZ(31,"app-footer-backoffice"),t.qZA()()()),2&o&&(t.xp6(10),t.Q6J("formGroup",s.editorFrom),t.xp6(5),t.Q6J("ngIf",s.editorFrom.controls.title.errors&&(s.editorFrom.controls.title.dirty||s.editorFrom.controls.title.touched)),t.xp6(5),t.Q6J("ngIf",s.editorFrom.controls.subtitle.errors&&(s.editorFrom.controls.subtitle.dirty||s.editorFrom.controls.subtitle.touched)),t.xp6(5),t.Q6J("ngIf",s.editorFrom.controls.img.errors&&(s.editorFrom.controls.img.dirty||s.editorFrom.controls.img.touched)),t.xp6(2),t.Q6J("styles",t.DdM(7,J))("modules",s.quillConfiguration),t.xp6(1),t.Q6J("ngIf",s.editorFrom.controls.text.errors&&(s.editorFrom.controls.text.dirty||s.editorFrom.controls.text.touched)))},dependencies:[c.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,m.W2,u.g6,i.sg,i.u,A._,Z.Q,N.s],styles:[".editor[_ngcontent-%COMP%]{margin-top:70px}.nav-news[_ngcontent-%COMP%]{background-color:#000!important}.btn-add[_ngcontent-%COMP%]{background-color:#242d3b;color:#fff;width:150px;margin-right:0!important}"]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(Y),a.Bz]}),e})();var M=r(5642);let S=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,i.u5,m.Pc,Q,u.fi,i.UX,M.K]}),e})()},4371:(f,l,r)=>{r.d(l,{O:()=>m});var c=r(5525),i=r(4650);let m=(()=>{class a{constructor(){}getServerTimestamp(){return c.EK.now().seconds}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);